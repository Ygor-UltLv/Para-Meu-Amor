<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Para N√≥s Dois ‚ù§Ô∏è</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"
  />
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #d6eaff; /* Azul iPhone 15 ainda mais claro */
      color: #333;
      text-align: center;
      overflow-x: hidden;
    }
    #volume-check, #main-content, #quiz {
      display: none;
      padding: 20px;
    }
    #typewriter {
      font-size: 1.2rem;
      border-right: 2px solid black;
      overflow: hidden;
      width: 100%;
      margin: 30px 0;
      word-break: break-word;
      text-align: justify;        /* Justifica o texto */
      margin-left: auto;          /* Centraliza o bloco */
      margin-right: auto;         /* Centraliza o bloco */
      max-width: 600px;           /* Limita largura para melhor leitura */
    }
    .swiper {
      width: 100%;
      height: 250px;
    }
    .swiper-slide {
      background-position: center;
      background-size: cover;
    }
    .swiper-slide:first-child {
      background-position: center top 20%;
    }
    button {
      padding: 10px 20px;
      font-size: 1rem;
      background-color: #ff69b4;
      color: white;
      border: none;
      border-radius: 12px;
      margin-top: 20px;
    }
    #quiz-section {
      margin-top: 30px;
    }
    .question {
      margin-bottom: 20px;
    }
    .question h3 {
      margin-bottom: 10px;
    }
    .mySwiper {
      display: none;              /* Oculta o Swiper inicialmente */
    }
    #hearts-container {
      position: fixed;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 1;
    }
    .heart {
      position: absolute;
      width: 32px;
      height: 32px;
      background: transparent;
      z-index: 2;
      opacity: 0.7;
      animation: floatHearts 4s linear forwards;
    }
    .heart svg {
      width: 100%;
      height: 100%;
      display: block;
    }
    @keyframes floatHearts {
      0% {
        transform: translateY(0) scale(1) rotate(var(--angle, 0deg));
        opacity: 0.7;
      }
      80% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-110vh) scale(1.3) rotate(var(--angle-end, 0deg));
        opacity: 0;
      }
    }
    .quiz-btn {
      display: block;
      width: 100%;
      min-width: 220px;
      max-width: 700px;         /* Aumenta a largura m√°xima */
      margin: 24px auto;        /* Mais espa√ßo entre bot√µes */
      padding: 32px 18px;       /* Mais altura interna */
      font-size: 1.25rem;
      border-radius: 14px;
      border: none;
      background: #fff;
      color: #333;
      cursor: pointer;
      transition: background 0.4s, color 0.4s, min-height 0.4s;
      position: relative;
      min-height: 30vh;         /* Ocupa ~30% da altura da tela */
      box-shadow: 0 2px 12px #0002;
      overflow: hidden;
      text-align: center;
      word-break: break-word;
    }
    .quiz-btn .quiz-front,
    .quiz-btn .quiz-flip {
      position: absolute;
      left: 0; top: 0; width: 100%; height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 1.05rem; /* Tamanho menor para caber mais texto */
      padding: 0 12px;
      box-sizing: border-box;
      text-align: justify;
      text-align-last: center;
      transition: opacity 0.4s;
      backface-visibility: hidden;
      white-space: normal;
      word-break: break-word;
      opacity: 1;
      overflow-wrap: break-word;
      overflow: hidden;
      max-width: 100%;
      gap: 12px; /* Espa√ßamento entre t√≠tulo e mensagem */
    }
    .quiz-btn .quiz-flip {
      color: #fff;
      opacity: 0;
      z-index: 3;
      background: transparent;
    }
    .quiz-btn.answered .quiz-front {
      opacity: 0;
      transition: opacity 0.3s;
    }
    .quiz-btn.answered .quiz-flip {
      opacity: 1;
      transition: opacity 0.3s;
    }
    .quiz-flip-title {
      font-size: 1.15rem;
      font-weight: bold;
      margin-bottom: 10px;
      text-align: center;
      width: 100%;
    }
    .quiz-flip-message {
      font-size: 0.98rem;
      margin-top: 0;
      text-align: justify;
      text-align-last: center;
      width: 100%;
      line-height: 1.4;
    }
    .quiz-btn.correct {
      background: #4caf50 !important;
      color: #fff !important;
    }
    .quiz-btn.wrong {
      background: #e53935 !important;
      color: #fff !important;
    }
    .quiz-btn.correct .quiz-flip,
    .quiz-btn.wrong .quiz-flip {
      color: #fff !important;
    }
  </style>
</head>
<body>
  <div id="volume-check">
    <h2>Por favor, aumente o som.üòä</h2>
    <h2>Aumentou o som?</h2>
    <audio id="test-audio" src="https://www.soundjay.com/buttons/sounds/button-16.mp3"></audio>
    <button onclick="checkVolume(true)">Sim</button>
    <button onclick="checkVolume(false)">N√£o</button>
  </div>

  <div id="main-content">
    <!-- Substitua o player antigo por este novo div -->
    <div id="embed-iframe" style="border-radius:12px; overflow:hidden; width:100%; height:80px;"></div>
    <script src="https://open.spotify.com/embed/iframe-api/v1" async></script>

    <div id="typewriter">
      Ol√°, meu amor. <br/><br/>
      Eu sei que j√° fiz bastante e que sempre h√° mais para dizer, voc√™ sabe o quanto eu te amo e vou mostrar de todas as formas poss√≠veis.<br/><br/>
      √â muito dificil escrever uma mensagem rom√¢ntica atrav√©s de c√≥digo, porque o copilot do github deseja que eu coloque algo extremamente gen√©rico. k k k k <br/><br/>
      Quero tamb√©m mostrar que, n√£o importe a plataforma, eu sempre vou dar um jeito de te demonstrar meu amor.<br/><br/>
      Eu te amo mais que tudo!!! ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è
    </div>

    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide" style="background-image: url('assets/Imagem1.jpg');"></div>
        <div class="swiper-slide" style="background-image: url('assets/Imagem2.jpg');"></div>
        <div class="swiper-slide" style="background-image: url('assets/Imagem3.jpg');"></div>
        <div class="swiper-slide" style="background-image: url('assets/Imagem4.jpg');"></div>
        <div class="swiper-slide" style="background-image: url('assets/Imagem5.jpg');"></div>
      </div>
    </div>

    <button onclick="showQuiz()" style="display:none;">Fazer o Quiz do Casal üíñ</button>
  </div>

  <div id="quiz" style="display:none;">
    <h2>Quiz do Casal üíë</h2>
    <div id="quiz-question-container">
      <!-- Pergunta ser√° inserida via JS -->
    </div>
  </div>
  <div id="hearts-container"></div>
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
  <script>
    window.onload = () => {
      const audio = document.getElementById("test-audio");
      audio.volume = 0.2;
      audio.play().catch(() => {});
      document.getElementById("volume-check").style.display = "block";
      startHeartsAnimation();
    };

    function startHeartsAnimation() {
      const container = document.getElementById('hearts-container');
      function createHeart() {
        const heart = document.createElement('div');
        heart.className = 'heart';
        // Posi√ß√£o horizontal aleat√≥ria (5vw a 95vw)
        heart.style.left = (Math.random() * 90 + 5) + 'vw';
        heart.style.bottom = '-40px';

        // √Çngulo inicial e final aleat√≥rios para variar a inclina√ß√£o
        const angleStart = Math.floor(Math.random() * 60 - 30); // -30deg a +30deg
        const angleEnd = angleStart + Math.floor(Math.random() * 60 - 30); // mais varia√ß√£o

        heart.style.setProperty('--angle', angleStart + 'deg');
        heart.style.setProperty('--angle-end', angleEnd + 'deg');

        // SVG de cora√ß√£o vermelho forte
        heart.innerHTML = `
          <svg viewBox="0 0 32 29.6">
            <path d="M23.6,0c-2.7,0-5.1,1.5-6.6,3.7C15.5,1.5,13.1,0,10.4,0C4.7,0,0,4.7,0,10.4
            c0,6.1,7.2,11.1,16,19.2c8.8-8.1,16-13.1,16-19.2C32,4.7,27.3,0,23.6,0z"
            fill="#ff0033"/>
          </svg>
        `;
        heart.style.animationDuration = (3.5 + Math.random() * 2) + 's';
        heart.style.opacity = (0.4 + Math.random() * 0.4).toString();
        container.appendChild(heart);
        setTimeout(() => {
          heart.remove();
        }, 5000);
      }
      setInterval(createHeart, 700);
    }

    function checkVolume(heard) {
      document.getElementById("volume-check").style.display = "none";
      if (!heard) {
        alert("Aumente o volume e clique em OK para continuar.");
      }
      document.getElementById("main-content").style.display = "block";
      typeWriterEffect();
    }

    function typeWriterEffect() {
      const el = document.getElementById("typewriter");
      const html = el.innerHTML;
      el.innerHTML = "";
      let i = 0;

      function typeWriter() {
        if (i < html.length) {
          if (html.substring(i, i + 4) === "<br>") {
            el.innerHTML += "<br>";
            i += 4;
          } else if (html.substring(i, i + 5) === "<br/>") {
            el.innerHTML += "<br/>";
            i += 5;
          } else {
            el.innerHTML += html[i];
            i++;
          }
          setTimeout(typeWriter, 80);
        } else {
          // Mostra o Swiper e o bot√£o do quiz ap√≥s terminar o texto
          document.querySelector('.mySwiper').style.display = 'block';
          document.querySelector('button[onclick="showQuiz()"]').style.display = 'inline-block';
        }
      }
      typeWriter();
    }

    // Dados do quiz
    const quizQuestions = [
      {
        question: "Qual foi o nosso primeiro date?",
        answers: [
          {
            text: "Karaoke",
            correct: false,
            message: "O Karaoke foi um dos nossos primeiros dates, foi nossa primeira vez nos beijando, por√©m n√£o nosso primeiro date."
          },
          {
            text: "TDC",
            correct: true,
            message: "Exatamente! Embora tenha sido algo de trabalho, foi nesse dia que nossa qu√≠mica come√ßou a se formar e pudemos ter uma rela√ß√£o ainda mais profunda que nos levou at√© o Karaoke! Parab√©ns, amor. Pronta para a pr√≥xima?"
          },
          {
            text: "Fazer li√ß√£o da faculdade",
            correct: false,
            message: "Quase l√°, mas nem perto kkkk. Fizemos isso diversas vezes, mas n√£o chega nem perto de ser nosso primeiro date. Errou feio, errou rude!"
          }
        ]
      },
      {
        question: "Qual foi o nosso primeiro musical?",
        answers: [
          {
            text: "Cinderela",
            correct: false,
            message: "Nada a ver kkkk. Esse daqui poderia ter sido at√© um musical, mas a gente nem lembra que isso existe. Imposs√≠vel que voc√™ tenha escolhido essa op√ß√£o."
          },
          {
            text: "9¬™ de Beethoven, ap√≥s o TDC",
            correct: false,
            message: "Hmmmm, n√£o √© um palpite ruim, embora tenha sido um concerto, realmente, foi nossa primeira sa√≠da cultural, mas n√£o foi nosso primeiro musical."
          },
          {
            text: "Legalmente Loira",
            correct: true,
            message: "Exatamente! Legalmente Loira foi o nosso primeiro musical juntos, foi bastante dificil que a gente n√£o estava ficando no momento, mas voltamos a ficar durante a pe√ßa. Parab√©ns, amor! Pronta para a pr√≥xima?"
          }
        ]
      },
      {
        question: "Qual √© o lugar que a gente sempre fala que vai, mas nunca vamos?",
        answers: [
          {
            text: "Casa Klabin",
            correct: true,
            message: "Exatamente!!! A gente sempre usa isso como um date econ√¥mico e f√°cil de fazer, mas nunca fazemos. Eu acho at√© engra√ßado manter dessa forma. No dia que formos, a piada morrer√°. Parab√©ns, amor. Pronta para a pr√≥xima?"
          },
          {
            text: "Karaok√™",
            correct: false,
            message: "Esse a gente realmente sempre fala que vai, mas pelo menos j√° fomos duas vezes. A resposta chegou muito perto."
          },
          {
            text: "Bahia",
            correct: false,
            message: "Confesso, essa daqui estava bastante dif√≠cil. A gente fala bastante que vai para a Bahia, mas √© algo 'longe'. Pense em uma resposta mais fact√≠vel, que poder√≠amos fazer em um final de semana."
          }
        ]
      },
      {
        question: "Qual √© o presente perfeito para se dar para a sua namorada?",
        answers: [
          {
            text: "Perfume",
            correct: false,
            message: "NUNCA! Jamais! Todos sabem que ao dar um perfume, come√ßa um cronometro para o t√©rmino do relacionamento. que acaba justamente junto com o perfume. N√£o √© um bom presente."
          },
          {
            text: "Estresse",
            correct: true,
            message: "He he he. Exatamente, essa √© a √∫nica resposta correta. Qual seria a gra√ßa do nosso relacionamento se n√£o tivesse um pouquinho de estresse? Voc√™ as vezes precisa desse estresse n√©. Parab√©ns, amor. Pronta para a pr√≥xima?"
          },
          {
            text: "Algo feito a m√£o com bastante carinho",
            correct: false,
            message: "√â uma boa op√ß√£o, est√° claramente no top 5 melhores presentes, mas n√≥s sabemos qual √© a resposta correta, amor... V√° l√° e selecione agora kkkk"
          }
        ]
      }
      // Adicione mais perguntas aqui se quiser
    ];

    let currentQuiz = 0;

    function renderQuizQuestion(idx) {
      const container = document.getElementById('quiz-question-container');
      const q = quizQuestions[idx];
      container.innerHTML = `
        <h3>${q.question}</h3>
        <div class="quiz-answers">
          ${q.answers.map((a, i) => `
            <button class="quiz-btn" data-idx="${i}" data-correct="${a.correct}">
              <span class="quiz-front">${a.text}</span>
              <span class="quiz-flip">
                <span class="quiz-flip-title">${a.text}</span>
                <span class="quiz-flip-message">${a.message}</span>
              </span>
            </button>
          `).join('')}
        </div>
        <div id="quiz-next-container"></div>
      `;

      document.querySelectorAll('.quiz-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          if (btn.classList.contains('answered')) return;
          btn.classList.add('answered');
          const idx = parseInt(btn.dataset.idx);
          const answer = q.answers[idx];
          btn.classList.add(answer.correct ? 'correct' : 'wrong');
          btn.querySelector('.quiz-front').style.opacity = '0';
          btn.querySelector('.quiz-flip').style.opacity = '1';

          if (answer.correct) {
            if (currentQuiz < quizQuestions.length - 1) {
              const nextDiv = document.getElementById('quiz-next-container');
              nextDiv.innerHTML = `<button id="next-quiz-btn" style="margin-top:20px;">Pr√≥xima Pergunta</button>`;
              document.getElementById('next-quiz-btn').onclick = () => {
                currentQuiz++;
                renderQuizQuestion(currentQuiz);
              };
            } else {
              const nextDiv = document.getElementById('quiz-next-container');
              nextDiv.innerHTML = `<div style="margin-top:20px;font-weight:bold;">Fim do quiz! ü•∞</div>`;
            }
          }
        });
      });
    }

    // Chame renderQuizQuestion(0) ao mostrar o quiz
    function showQuiz() {
      document.getElementById("main-content").style.display = "none";
      document.getElementById("quiz").style.display = "block";
      renderQuizQuestion(0);
    }

    new Swiper(".mySwiper", {
      loop: true,
      autoplay: {
        delay: 3000,
      },
    });

    // Efeito dos cora√ß√µes
    const heartsContainer = document.getElementById("hearts-container");

    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heartsContainer.appendChild(heart);

      // Remove o cora√ß√£o do DOM ap√≥s a anima√ß√£o
      setTimeout(() => {
        heart.remove();
      }, 1000);
    }

    // Cria cora√ß√µes em intervalos aleat√≥rios
    setInterval(createHeart, 300);

    window.onSpotifyIframeApiReady = (IFrameAPI) => {
      const element = document.getElementById('embed-iframe');
      const options = {
        uri: 'spotify:track:2plbrEY59IikOBgBGLjaoe', // Troque para o URI desejado
        theme: 'white',
        width: '100%',
        height: 80
      };
      const callback = (EmbedController) => {};
      IFrameAPI.createController(element, options, callback);
    };
  </script>
</body>
</html>
